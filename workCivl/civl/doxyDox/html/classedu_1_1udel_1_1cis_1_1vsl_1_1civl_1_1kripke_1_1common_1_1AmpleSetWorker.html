<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>My Project: edu.udel.cis.vsl.civl.kripke.common.AmpleSetWorker Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   &#160;<span id="projectnumber">CIVL</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>edu</b></li><li class="navelem"><b>udel</b></li><li class="navelem"><b>cis</b></li><li class="navelem"><b>vsl</b></li><li class="navelem"><a class="el" href="namespaceedu_1_1udel_1_1cis_1_1vsl_1_1civl.html">civl</a></li><li class="navelem"><b>kripke</b></li><li class="navelem"><b>common</b></li><li class="navelem"><a class="el" href="classedu_1_1udel_1_1cis_1_1vsl_1_1civl_1_1kripke_1_1common_1_1AmpleSetWorker.html">AmpleSetWorker</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classedu_1_1udel_1_1cis_1_1vsl_1_1civl_1_1kripke_1_1common_1_1AmpleSetWorker-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">edu.udel.cis.vsl.civl.kripke.common.AmpleSetWorker Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class is responsible for computing the ample processes set at a given state.  
 <a href="classedu_1_1udel_1_1cis_1_1vsl_1_1civl_1_1kripke_1_1common_1_1AmpleSetWorker.html#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for edu.udel.cis.vsl.civl.kripke.common.AmpleSetWorker:</div>
<div class="dyncontent">
<div class="center"><img src="classedu_1_1udel_1_1cis_1_1vsl_1_1civl_1_1kripke_1_1common_1_1AmpleSetWorker__coll__graph.png" border="0" usemap="#edu_8udel_8cis_8vsl_8civl_8kripke_8common_8AmpleSetWorker_coll__map" alt="Collaboration graph"/></div>
<map name="edu_8udel_8cis_8vsl_8civl_8kripke_8common_8AmpleSetWorker_coll__map" id="edu_8udel_8cis_8vsl_8civl_8kripke_8common_8AmpleSetWorker_coll__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3314d8eb02d8124fe1b91a49558923a0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3314d8eb02d8124fe1b91a49558923a0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>difference</b> (BitSet lhs, BitSet rhs)</td></tr>
<tr class="separator:a3314d8eb02d8124fe1b91a49558923a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class is responsible for computing the ample processes set at a given state. </p>
<p>It is a helper of Enabler.</p>
<p>Basic ingredients. Need to know, in a state s:</p>
<p>For each process p, what is the set of memory units that p can reach from its call stack?</p>
<p>For each process p, given an enabled statement in p, what are the memory units that could read/written to by that statement.</p>
<p>Questions:</p>
<p>Representation of set of memory units:</p>
<p>How much of this can be computed statically?</p>
<p>Can this information be stored in state and updated incrementally with each transition?</p>
<pre>
Fix a process <code>p</code>, computes the set of processes that have to be
in the ample set by examining the relation of the impact/reachable memory
units of the processes.</pre><pre>Impact memory unit set: all memory units to be accessed (read or written) by a
process <code>p</code> at a certain state <code>s</code>. Usually this
includes the memory units through the variables appearing in the statements 
(including its guard) that originates from <code>p</code>'s location at 
<code>s</code>.</pre><pre>Reachable memory unit set: all memory units reachable by a process
<code>p</code> at a certain state <code>s</code>. This includes all memory units 
reachable through all the variables in the dyscopes visible to <code>p</code>.</pre><pre>Reachable memory unit access annotation: for each element in the reachable memory
unit set, annotates the information if the process is possible to write it now or
in the future. Immediately, any variable appearing as the left-hand-side of
Note, all variables that ever appear as the operand of the address-of (&amp;)
operator are to be considered as possibly written by any process. Given a memory 
unit <code>m</code> and a process <code>p</code>, <code>w(m, p, s)</code> is true 
iff <code>p</code> is possible to write to <code>m</code> from <code>s</code>.</pre><pre>Note: the heap is excluded when computing the impact/reachable memory units; 
memory of handle types (such as gcomm/comm, gbarrier/barrier) are ignored.</pre><pre>Ample set algorithm: 
0. Let <code>amp(p)</code> be the ample set of <code>p</code>. Initially, 
   <code>amp(p) = { p }</code>. Let <code>work = { p }</code> be the 
   set of working processes.
1. Let <code>sys(p, s)</code> be the set of system function calls of <code>p</code>
      origins at <code>s</code>. Let <code>imp(p, s)</code> be the impact memory set 
   of <code>p</code> at state <code>s</code>; remove <code>p</code> from work.
2. For every system call <code>c</code> of <code>sys(p, s)</code>, obtain the ample
   set <code>amp(c, p, s)</code> from the corresponding library. Then, for every 
   <code>q</code> in <code>amp(c, p, s)</code>, perform 2.1:
   2.1. add <code>q</code> to <code>amp(p)</code>, and add <code>q</code> to <code>work</code> 
        if <code>q</code> hasn't been added to <code>work</code> before.
3. For every process <code>q</code> active at state <code>s</code>, 
   let <code>rea(q, s)</code> be the map of reachable memory units and 
   the access annotation (read only or possible write) of process <code>q</code> 
   at state <code>s</code>, then do the following:</p><ul>
<li>for every memory unit <code>m</code> in <code>imp(p, s)</code>, 
     find out all memory units <code>m'</code> belonging to <code>rea(q, s)</code> 
     that intersects with <code>m</code>;</li>
<li>if there exists <code>m'</code>, such that <code>w(m, p, s)</code> or
     <code>w(m', q, s)</code>, then perform step 2.1 for <code>q</code>.
4. Repeat steps 1-3 until <code>work</code> is empty.
</li>
</ul>
</pre><pre>The ample set worker always return the minimal ample set, i.e., the set with
the smallest number of processes. To achieve this, it greedily computes the
ample set of all active processes. Sometimes, it doesn't have to iterates
over all processes if it finds an ample set of size one.</pre><pre><dl class="section author"><dt>Author</dt><dd>Manchun Zheng (zmanchun)
</dd></dl>
</pre></div><hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/arnabd/workspace/civl/trunk/src/edu/udel/cis/vsl/civl/kripke/common/AmpleSetWorker.java</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
